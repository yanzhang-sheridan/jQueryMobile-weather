<!DOCTYPE html>
<html>
<head>
	<title>Page Title</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="128x128" href="images/weathers.png">
    <meta name="apple-mobile-web-app-capable" content="yes" />

    <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    <script src="js/searchWeather.js"></script>

    <link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
    <link rel="stylesheet" href="css/stylesheet.css" />
    
</head>
<body>

<div data-role="page">

    <div data-role="panel" id="left-panel" data-theme="c">
        <ul data-theme="d" data-role="listview">

            <li data-icon="delete"><a href="#" data-rel="close">Close</a></li>
            <li data-role="list-divider">Select a city</li>
            <li><a href="#" class="city" data-rel="close">Current Location</a></li>
            <li><a href="#" class="city" data-rel="close">Oakville</a></li>
            <li><a href="#" class="city" data-rel="close">Toronto</a></li>
            <li><a href="#" class="city" data-rel="close">Vancovour</a></li>
            <li><a href="#" class="city" data-rel="close">Montreal</a></li>
            <li><a href="#" class="city" data-rel="close">Ottawa</a></li>
            <li><a href="#" class="city" data-rel="close">Orlando</a></li>
            <li><a href="#" class="city" data-rel="close">Miami</a></li>
            <li><a href="#" class="city" data-rel="close">New York</a></li>
            <li><a href="#" class="city" data-rel="close">San Francisco</a></li>
            <li><a href="#" class="city" data-rel="close">London</a></li>
            <li><a href="#" class="city" data-rel="close">Barcelona</a></li>
            <li><a href="#" class="city" data-rel="close">Beijing</a></li>
           


        </ul>
        <!-- panel content goes here -->
    </div><!-- /panel -->

	<div data-role="header" data-position="fixed" data-theme="c">
        <h1>GOOD WEATHER</h1>
        <a href="#left-panel" data-role="button" data-icon="bars"  data-iconpos="notext" data-iconshadow="false">Menu</a>

		
	</div><!-- /header -->

	<div role="main" class="ui-content" id="content">
        <h1 id="current_temp" class="icon" data-icon="B">65&#176;F</h1>
        <p id="current_summary">Partly Cloudy</p>
        <p id="location">Current Location</p>
	</div><!-- /content -->

	<div data-role="footer">
	
	</div>
</div><!-- /page -->

<!-- <script>

    var icons = {
        "clear-day":"B",
        "clear-night":"C",
        "rain":"R",
        "snow":"G",
        "sleet":"X",
        "wind":"S",
        "fog":"N",
        "cloudy":"Y",
        "partly-cloudy-day":"H",
        "partly-cloudy-night":"I"

    };

    var cities = {
        "oakville":{coords:{latitude:43.447436,longitude: -79.666672}},
        "toronto":{coords:{latitude:43.653963,longitude:-79.387207}},
        "vancouver" :{coords:{latitude:49.2608724,longitude: -123.1139529}},
        "montreal":{coords:{latitude:45.4972159,longitude:-73.6103642}},
        "ottawa" :{coords:{latitude:45.421106,longitude:-75.690308}},
        "miami":{coords:{latitude:25.7742658,longitude:-80.1936589}},
        "orlando" :{coords:{latitude:28.5421109,longitude:-81.3790304}},
        "new york":{coords:{latitude:40.7127281,longitude:-74.0060152}},
        "san francisco" :{coords:{latitude:37.8267,longitude:-122.4233}},
        "london":{coords:{latitude:51.5073219,longitude: -0.1276474}},
        "Barcelona" :{coords:{latitude:41.3828939, longitude:2.1774322}},
        "beijing" :{coords:{latitude:37.57224279278,longitude:-78.5287106987263}},
        "current location" :""
    };





    function loadWeather(cityCoords){
        var latlng = cityCoords.coords.latitude+","+cityCoords.coords.longitude;
        console.log(latlng+"444");
        var forcastURL="https://api.darksky.net/forecast/a39404a66e67fd7be1889227724585fe/"+latlng;
        console.log(forcastURL+"888");
        $.ajax({

            url:forcastURL,
            jsonpCallback:"jsonCallback",
            contentType:"application/json",
            dataType:'jsonp',
            success:function(json){

                console.log(json);
                $("#current_temp").html(Math.round(json.currently.temperature)+"&#176;F");
                $("#current_summary").html(json.currently.summary);
                $("#current_temp").attr("data-icon",icons[json.currently.icon]);
                

            },
            error:function(e){
                console.log(e.message);
            }

        });

    }

    function loadCity(city){
        console.log(city);
        $("#location").html(city);
        if (city.toLowerCase=="current location") {
            if (navigator.geolocation)
                navigator.geolocation.getCurrentPosition(loadWeather,loadDefaultCity);
            else {
                loadDefaultCity();
            }

        }else{
            loadWeather(cities[city.toLowerCase()]);
        }

    }   

    function loadDefaultCity(){
        loadCity("Oakville");
    }



    $(document).ready(function(){
        ///loadWeather("Oakville");
        console.log("!---$$$"+$(this).html);
        loadCity("Oakville");
        $("a.city").bind("click",function(){
            //console.log("!---"+$(this).html());
            loadCity($(this).html()); 
        
        });
    });

</script> -->

</body>
</html>